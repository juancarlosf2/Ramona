import{a as i,u,j as t,l as m,s as l}from"./client-D0JzVCqi.js";import{u as o,A as d}from"./Auth-DCmwj8l0.js";function c(){const e=i(),a=o({fn:m,onSuccess:async s=>{if(!s.data?.error){await e.invalidate(),e.navigate({to:"/"});return}}}),r=o({fn:u(l)});return t.jsx(d,{actionText:"Login",status:a.status,onSubmit:s=>{const n=new FormData(s.target);a.mutate({data:{email:n.get("email"),password:n.get("password")}})},afterSubmit:a.data?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-red-400",children:a.data.message}),a.data.error&&a.data.message==="Invalid login credentials"?t.jsx("div",{children:t.jsx("button",{className:"text-blue-500",onClick:s=>{const n=new FormData(s.target.form);r.mutate({data:{email:n.get("email"),password:n.get("password")}})},type:"button",children:"Sign up instead?"})}):null]}):null})}const x=({error:e})=>{if(e.message==="Not authenticated")return t.jsx(c,{});throw e};export{x as errorComponent};
