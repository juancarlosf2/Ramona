import{r as t,j as e}from"./client-D0JzVCqi.js";function g(s){const[l,r]=t.useState(),[n,d]=t.useState(),[u,c]=t.useState(),[b,m]=t.useState(),[p,i]=t.useState("idle"),x=t.useCallback(async o=>{i("pending"),r(Date.now()),d(o);try{const a=await s.fn(o);return await s.onSuccess?.({data:a}),i("success"),c(void 0),m(a),a}catch(a){i("error"),c(a)}},[s.fn]);return{status:p,variables:n,submittedAt:l,mutate:x,error:u,data:b}}function w({actionText:s,onSubmit:l,status:r,afterSubmit:n}){return e.jsx("div",{className:"fixed inset-0 bg-white dark:bg-black flex items-start justify-center p-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-lg shadow-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:s}),e.jsxs("form",{onSubmit:d=>{d.preventDefault(),l(d)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-xs",children:"Username"}),e.jsx("input",{type:"email",name:"email",id:"email",className:"px-2 py-1 w-full rounded border border-gray-500/20 bg-white dark:bg-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-xs",children:"Password"}),e.jsx("input",{type:"password",name:"password",id:"password",className:"px-2 py-1 w-full rounded border border-gray-500/20 bg-white dark:bg-gray-800"})]}),e.jsx("button",{type:"submit",className:"w-full bg-cyan-600 text-white rounded py-2 font-black uppercase",disabled:r==="pending",children:r==="pending"?"...":s}),n||null]})]})})}export{w as A,g as u};
